<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bantuan</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    html, body {
      height: 100%;
      overflow: hidden;
    }

    /* ðŸŒ¸ Warna tema pink lembut */
    body {
      background-color: #fdf2f8; /* pink muda untuk latar belakang chat */
      color: #1f2937;
    }

    header {
      background-color: #ec4899; /* pink cerah */
    }

    #chat-container {
      flex: 1;
      overflow-y: auto;
      padding: 1rem;
      scroll-behavior: smooth;
      scrollbar-width: thin;
      scrollbar-color: #ec4899 #fdf2f8;
      position: relative;
      background-color: #fdf2f8; /* area chat pink muda */
    }

    footer {
      background-color: #ec4899; /* footer pink cerah */
      border-top: 1px solid #f472b6;
      box-shadow: 0 -4px 10px rgba(236, 72, 153, 0.25);
    }

    #user-input {
      background-color: #fce7f3; /* input lebih lembut */
      color: #1f2937;
    }

    #send-btn {
      background-color: #db2777;
    }
    #send-btn:hover {
      background-color: #be185d;
    }

    /* ðŸ©· Warna bubble */
    .chat-bubble.bg-blue-600 {
      background-color: #db2777 !important; /* user */
    }
    .chat-bubble.bg-gray-700 {
      background-color: #f9a8d4 !important; /* bot */
      color: #1f2937;
    }

    /* Tambahan gaya lain tetap sama seperti sebelumnya */
    #chat-placeholder {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      text-align: center;
      color: #9ca3af;
      font-size: 0.95rem;
      opacity: 0.75;
      user-select: none;
      transition: opacity 0.3s ease;
    }

    #side-menu {
      transform: translateX(-100%);
      transition: transform 0.35s ease-in-out;
      background-color: #f9a8d4; /* sidebar pink pastel */
      color: #1f2937;
    }

    #side-menu.active {
      transform: translateX(0);
    }

    .chat-message { margin-bottom: 0.75rem; }
    .chat-bubble { max-width: 75%; border-radius: 1rem; }
    @media (min-width: 640px) { .chat-bubble { max-width: 60%; } }
  </style>
</head>

<body class="flex flex-col h-screen">

  <!-- Header -->
  <header class="text-white py-3 px-4 shadow-md flex items-center justify-center relative">
    <button id="menu-btn" class="absolute left-4 focus:outline-none">
      <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
      </svg>
    </button>
    <h1 class="text-lg font-semibold text-center">ðŸ’¬ Customer Service</h1>
    <a href="index.html" class="absolute right-4 text-sm text-white hover:text-gray-200">Kembali</a>
  </header>

  <!-- Sidebar Menu -->
  <aside id="side-menu" class="fixed top-0 left-0 w-64 h-full p-5 shadow-lg z-50">
    <h2 class="text-lg font-semibold mb-4"> Menu</h2>
    <ul class="space-y-3">
      <li><button id="new-chat" class="w-full text-left hover:text-pink-700">ðŸ†• Obrolan Baru</button></li>
    </ul>
  </aside>

  <!-- Overlay -->
  <div id="overlay" class="hidden fixed inset-0 bg-black bg-opacity-40 z-40"></div>

  <!-- Chat Container -->
  <main id="chat-container">
    <div id="chat-placeholder">ðŸ’­ Mulai obrolan dengan Asisten Marcel...</div>
  </main>

  <!-- Input Chat -->
  <footer class="flex items-center space-x-2 p-3">
    <input 
      id="user-input" 
      type="text" 
      placeholder="Ketik pesan..." 
      class="flex-1 p-3 rounded-xl outline-none focus:ring-2 focus:ring-pink-400"
    />
    <button 
      id="send-btn" 
      class="hover:bg-pink-700 px-4 py-3 rounded-xl font-medium text-white">
      Kirim
    </button>
  </footer>

  <!-- Script -->
  <script>
    const chatContainer = document.getElementById("chat-container");
    const sendBtn = document.getElementById("send-btn");
    const userInput = document.getElementById("user-input");
    const menuBtn = document.getElementById("menu-btn");
    const sideMenu = document.getElementById("side-menu");
    const overlay = document.getElementById("overlay");
    const newChatBtn = document.getElementById("new-chat");

    sendBtn.addEventListener("click", sendMessage);
    userInput.addEventListener("keypress", e => {
      if (e.key === "Enter") sendMessage();
    });

    function sendMessage() {
      const text = userInput.value.trim();
      if (text === "") return;
      const placeholder = document.getElementById("chat-placeholder");
      if (placeholder) placeholder.remove();

      const userMessage = document.createElement("div");
      userMessage.className = "flex justify-end chat-message";
      userMessage.innerHTML = `<div class='chat-bubble bg-blue-600 p-3 rounded-2xl rounded-tr-none'><p>${text}</p></div>`;
      chatContainer.appendChild(userMessage);
      userInput.value = "";
      scrollToBottom();

      showTypingAnimation();
      setTimeout(() => {
        removeTypingAnimation();
        showBotMessage("Terima kasih atas pesanmu! Fitur balasan otomatis akan segera hadir ðŸ¤–");
      }, 2000);
    }

    function showTypingAnimation() {
      const typingDiv = document.createElement("div");
      typingDiv.id = "typing";
      typingDiv.className = "flex items-start chat-message";
      typingDiv.innerHTML = `<div class='chat-bubble bg-gray-700 p-3 rounded-2xl rounded-tl-none flex items-center space-x-1 typing-dots'>
        <span class="w-2 h-2 bg-gray-400 rounded-full inline-block" style="--i:1"></span>
        <span class="w-2 h-2 bg-gray-400 rounded-full inline-block" style="--i:2"></span>
        <span class="w-2 h-2 bg-gray-400 rounded-full inline-block" style="--i:3"></span></div>`;
      chatContainer.appendChild(typingDiv);
      scrollToBottom();
    }

    function removeTypingAnimation() {
      const typingDiv = document.getElementById("typing");
      if (typingDiv) typingDiv.remove();
    }

    function showBotMessage(text) {
      const botMessage = document.createElement("div");
      botMessage.className = "flex items-start chat-message";
      botMessage.innerHTML = `<div class='chat-bubble bg-gray-700 p-3 rounded-2xl rounded-tl-none'><p>${text}</p></div>`;
      chatContainer.appendChild(botMessage);
      setTimeout(() => { botMessage.scrollIntoView({ behavior: "smooth", block: "end" }); }, 50);
    }

    function scrollToBottom() {
      chatContainer.scrollTop = chatContainer.scrollHeight;
    }

    menuBtn.addEventListener("click", () => {
      sideMenu.classList.toggle("active");
      overlay.classList.toggle("hidden");
    });
    overlay.addEventListener("click", () => {
      sideMenu.classList.remove("active");
      overlay.classList.add("hidden");
    });

    newChatBtn.addEventListener("click", () => {
      chatContainer.innerHTML = `<div id="chat-placeholder">ðŸ’­ Mulai obrolan dengan Asisten Marcel...</div>`;
      sideMenu.classList.remove("active");
      overlay.classList.add("hidden");
    });

    window.addEventListener("load", () => {
      const placeholder = document.getElementById("chat-placeholder");
      if (placeholder) placeholder.style.display = "block";
    });
  </script>
</body>
</html>
